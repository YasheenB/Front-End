<app-toolbar></app-toolbar>
<head>
    <title>Announcement</title>
 </head>
 <body>
     <button class="singleFunction" mat-raised-button color="primary" target="Create" (click)="getListOfUniversities()">Create Student</button>
     <button class="singleFunction" mat-raised-button color="primary" target="Read">Read Student</button>
     
     <div id="functionCreate" class="targetFunction">
        <form class="example-form">
            <mat-form-field class="example-full-width">
                <mat-label>Student Name</mat-label>
                <input matInput required #studentName>
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <mat-label>Student Surname</mat-label>
                <input matInput required #studentSurname>
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <mat-label>Student Age</mat-label>
                <input matInput required type="number" #studentAge>
              </mat-form-field>
            
            <mat-form-field class="example-full-width">
                <mat-label>Student Race</mat-label>
                <mat-select>
                  <mat-option #studentRace value="Black">
                    Black
                  </mat-option>
                  <mat-option #studentRace value="White">
                    White
                </mat-option>
                <mat-option #studentRace value="Asian">
                    Asian
                </mat-option>
                <mat-option #studentRace value="Coloured">
                    Coloured
                </mat-option>
                <mat-option #studentRace value="Indian">
                    Indian
                </mat-option>
                <mat-option #studentRace value="Other">
                    Other
                </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="example-full-width">
              <mat-label>University</mat-label>
              <mat-select required>
                <mat-option *ngFor="let university of listOfAllUniversities" value="university.ID" (click)="findUniversityID(university.ID)">
                  {{university.Name}}
                </mat-option>
              </mat-select>
          </mat-form-field>
        </form>
        <button  mat-raised-button color="primary" (click)="createStudent(studentName.value,studentSurname.value,studentAge.value,studentRace.value)">Create Student</button>
        <button  mat-raised-button class="moveButtonRegisterLeft" color="primary" >Cancel</button>
     </div>
     <div id="functionRead" class="targetFunction">
      <table mat-table class="mat-elevation-z8" [dataSource]="listOfStudents" >

        <ng-container matColumnDef="StudentID">
          <th mat-header-cell *matHeaderCellDef> Student ID </th>
          <td mat-cell *matCellDef="let student"> {{student.ID}} </td>
        </ng-container>

        <ng-container matColumnDef="StudentName">
          <th mat-header-cell *matHeaderCellDef> Student Name </th>
          <td mat-cell *matCellDef="let student"> {{student.Name}} </td>
        </ng-container>

        <ng-container matColumnDef="StudentSurname">
          <th mat-header-cell *matHeaderCellDef> Student Surname </th>
          <td mat-cell *matCellDef="let student"> {{student.Surname}} </td>
        </ng-container>

        <ng-container matColumnDef="StudentAge">
          <th mat-header-cell *matHeaderCellDef> Student Age </th>
          <td mat-cell *matCellDef="let student"> {{student.Age}} </td>
        </ng-container>

        <ng-container matColumnDef="StudentRace">
          <th mat-header-cell *matHeaderCellDef> Student Race </th>
          <td mat-cell *matCellDef="let student"> {{student.Race}} </td>
        </ng-container>

        <ng-container matColumnDef="UniversityID">
          <th mat-header-cell *matHeaderCellDef> University ID </th>
          <td mat-cell *matCellDef="let student"> {{student.UniversityID}} </td>
        </ng-container>

        <ng-container matColumnDef="Update">
          <th mat-header-cell *matHeaderCellDef> Update </th>
          <td mat-cell *matCellDef="let student"> 
            <button class="singleFunction" mat-raised-button color="accent" (click)="GetStudentToUpdateOrDelete(student.ID)" target="Update">
              <mat-icon aria-hidden="false"aria-label="Example home icon">update</mat-icon>
            </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="Delete">
          <th mat-header-cell *matHeaderCellDef> Delete </th>
          <td mat-cell *matCellDef="let student">
            <button class="singleFunction" mat-raised-button color="warn" (click)="GetStudentToUpdateOrDelete(student.ID)" target="Delete">
              <mat-icon aria-hidden="false" aria-label="Example home icon">delete_outline</mat-icon>
            </button>           
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
    <div id="functionUpdate" class="targetFunction">
      <form class="example-form">
        <mat-form-field class="example-full-width">
            <mat-label>Student Name</mat-label>
            <input matInput required #updatedName type="text" [(ngModel)]="currentStudentName" name="updateStudentName">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student Surname</mat-label>
            <input matInput required #updatedSurname type="text" [(ngModel)]="currentStudentSurname" name="updateStudentSurname">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student Age</mat-label>
            <input matInput required type="number" #updatedAge [(ngModel)]="currentStudentAge" name="updateStudentAge">
          </mat-form-field>
        
        <mat-form-field class="example-full-width">
            <mat-label>Student Race</mat-label>
            <mat-select required required [(ngModel)]="currentStudentRace" name="updateStudentRace" required>
              <mat-option #updatedRace value="Black">
                Black
              </mat-option>
              <mat-option #updatedRace value="White">
                White
            </mat-option>
            <mat-option #updatedRace value="Asian">
                Asian
            </mat-option>
            <mat-option #updatedRace value="Coloured">
                Coloured
            </mat-option>
            <mat-option #updatedRace value="Indian">
                Indian
            </mat-option>
            <mat-option #updatedRace value="Other">
                Other
            </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <mat-label>University</mat-label>
          <mat-select required>
            <mat-option *ngFor="let university of listOfAllUniversities" value="university.ID" (click)="findUniversityID(university.ID)">
              {{university.Name}}
            </mat-option>
          </mat-select>
      </mat-form-field>
    </form>
    <button  mat-raised-button color="primary" (click)="updateStudent(updatedName.value,updatedSurname.value,updatedAge.value,updatedRace.value,studentIdToModify)">Update Student</button>
    <button  mat-raised-button class="moveButtonRegisterLeft" color="primary" >Cancel</button>
    </div>
    <div id="functionDelete" class="targetFunction">
      <form class="example-form">
        <mat-form-field class="example-full-width">
            <mat-label>Student Name</mat-label>
            <input matInput disabled type="text" [(ngModel)]="currentStudentName" name="deleteStudentName">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student Surname</mat-label>
            <input matInput disabled type="text" [(ngModel)]="currentStudentSurname" name="deleteStudentSurname">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student Age</mat-label>
            <input matInput type="text" type="number" disabled [(ngModel)]="currentStudentAge" name="deleteStudentAge">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student Race</mat-label>
            <input matInput type="text" disabled [(ngModel)]="currentStudentRace" name="deleteStudentRace">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Student University</mat-label>
            <input matInput type="text" disabled [(ngModel)]="universityName" name="deleteStudentUniversity">
          </mat-form-field>
    </form>
    <button  mat-raised-button color="primary" (click)="deleteStudent(studentIdToModify)">Delete Student</button>
    <button  mat-raised-button class="moveButtonRegisterLeft" color="primary" >Cancel</button>
    </div>
 </body>
